{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\shmaj\\\\CodeFellows\\\\401\\\\401n16\\\\ReactNative\\\\app\\\\components\\\\StorageMain.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport Config from \"./Config\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\n\nvar MainStorage = function (_React$Component) {\n  _inherits(MainStorage, _React$Component);\n\n  var _super = _createSuper(MainStorage);\n\n  function MainStorage(props) {\n    var _this;\n\n    _classCallCheck(this, MainStorage);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      notes: [],\n      note: ''\n    };\n    return _this;\n  }\n\n  _createClass(MainStorage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var notes;\n      return _regeneratorRuntime.async(function componentDidMount$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('notes'));\n\n            case 2:\n              notes = _context.sent;\n\n              if (notes && notes.length > 0) {\n                this.setState({\n                  notes: JSON.parse(notes)\n                });\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"updateAsyncStorage\",\n    value: function updateAsyncStorage(notes) {\n      return new Promise(function _callee(resolve, reject) {\n        return _regeneratorRuntime.async(function _callee$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _regeneratorRuntime.awrap(AsyncStorage.removeItem('notes'));\n\n              case 3:\n                _context2.next = 5;\n                return _regeneratorRuntime.awrap(AsyncStorage.setItem('notes', JSON.stringify(notes)));\n\n              case 5:\n                return _context2.abrupt(\"return\", resolve(true));\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](0);\n                return _context2.abrupt(\"return\", reject(_context2.t0));\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, null, null, [[0, 8]], Promise);\n      });\n    }\n  }, {\n    key: \"cloneNotes\",\n    value: function cloneNotes() {\n      return _toConsumableArray(this.state.notes);\n    }\n  }, {\n    key: \"addNote\",\n    value: function addNote() {\n      var notes;\n      return _regeneratorRuntime.async(function addNote$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!(this.state.note.length <= 0)) {\n                _context3.next = 2;\n                break;\n              }\n\n              return _context3.abrupt(\"return\");\n\n            case 2:\n              _context3.prev = 2;\n              notes = this.cloneNotes();\n              notes.push(this.state.note);\n              _context3.next = 7;\n              return _regeneratorRuntime.awrap(this.updateAsyncStorage(notes));\n\n            case 7:\n              this.setState({\n                notes: notes,\n                note: ''\n              });\n              _context3.next = 13;\n              break;\n\n            case 10:\n              _context3.prev = 10;\n              _context3.t0 = _context3[\"catch\"](2);\n              alert(_context3.t0);\n\n            case 13:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, this, [[2, 10]], Promise);\n    }\n  }, {\n    key: \"removeNote\",\n    value: function removeNote(key) {\n      var notes;\n      return _regeneratorRuntime.async(function removeNote$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              notes = this.cloneNotes();\n              notes.splice(key, 1);\n              _context4.next = 5;\n              return _regeneratorRuntime.awrap(this.updateAsyncStorage(notes));\n\n            case 5:\n              this.setState({\n                notes: notes\n              });\n              _context4.next = 11;\n              break;\n\n            case 8:\n              _context4.prev = 8;\n              _context4.t0 = _context4[\"catch\"](0);\n              alert(_context4.t0);\n\n            case 11:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, this, [[0, 8]], Promise);\n    }\n  }, {\n    key: \"renderNotes\",\n    value: function renderNotes() {\n      var _this2 = this;\n\n      return this.state.notes.map(function (note, i) {\n        return React.createElement(View, {\n          key: _this2.props.keyval,\n          style: styles.note,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }\n        }, React.createElement(Text, {\n          style: styles.noteText,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }\n        }, _this2.val.date), React.createElement(Text, {\n          style: styles.noteText,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }\n        }, _this2.val.note), React.createElement(TouchableOpacity, {\n          onPress: _this2.removeNote(i),\n          style: styles.noteDelete,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }\n        }), React.createElement(Text, {\n          style: styles.noteDeleteText,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }\n        }, \"Delete\"));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }\n      }, React.createElement(Header, {\n        title: Config.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 17\n        }\n      }), React.createElement(ScrollView, {\n        style: styles.scrollView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 17\n        }\n      }, this.renderNotes()), React.createElement(Footer, {\n        onChangeText: function onChangeText(note) {\n          return _this3.setState({\n            note: note\n          });\n        },\n        inputValue: this.state.note,\n        onNoteAdd: function onNoteAdd() {\n          return _this3.addNote();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 17\n        }\n      }));\n    }\n  }]);\n\n  return MainStorage;\n}(React.Component);\n\nexport { MainStorage as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    position: 'relative'\n  },\n  scrollView: {\n    maxHeight: '82%',\n    marginBottom: 100,\n    backgroundColor: '#fff'\n  },\n  note: {\n    margin: 20,\n    padding: 20,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    backgroundColor: '#f9f9f9',\n    borderColor: '#ddd',\n    borderRadius: 10\n  },\n  noteText: {\n    fontSize: 14,\n    padding: 20\n  },\n  noteDelete: {\n    position: 'absolute',\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#2980b9',\n    padding: 10,\n    top: 10,\n    bottom: 10,\n    right: 10\n  },\n  noteDeleteText: {\n    color: 'black'\n  }\n});","map":{"version":3,"sources":["C:/Users/shmaj/CodeFellows/401/401n16/ReactNative/app/components/StorageMain.js"],"names":["React","Config","Header","Footer","MainStorage","props","state","notes","note","AsyncStorage","getItem","length","setState","JSON","parse","Promise","resolve","reject","removeItem","setItem","stringify","cloneNotes","push","updateAsyncStorage","alert","key","splice","map","i","keyval","styles","noteText","val","date","removeNote","noteDelete","noteDeleteText","container","title","scrollView","renderNotes","addNote","Component","StyleSheet","create","flex","position","maxHeight","marginBottom","backgroundColor","margin","padding","alignItems","justifyContent","borderWidth","borderColor","borderRadius","fontSize","top","bottom","right","color"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TextInput, ScrollView, TouchableOpacity, AsyncStorage,\r\n}\r\n  from 'react-native';\r\nimport Config from './Config';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\n\r\n\r\nexport default class MainStorage extends React.Component {\r\n\r\n   \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            notes: [],\r\n            note: ''\r\n        }\r\n\r\n    }\r\n\r\n   \r\n    async componentDidMount() {\r\n\r\n        const notes = await AsyncStorage.getItem('notes');\r\n        if (notes && notes.length > 0) {\r\n            this.setState({\r\n                notes: JSON.parse(notes)\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n  \r\n    updateAsyncStorage(notes) {\r\n\r\n        return new Promise( async(resolve, reject) => {\r\n\r\n            try {\r\n\r\n                await AsyncStorage.removeItem('notes');\r\n                await AsyncStorage.setItem('notes', JSON.stringify(notes));\r\n                return resolve(true);\r\n\r\n            } catch(e) {\r\n                return reject(e);\r\n            }\r\n\r\n        });\r\n\r\n    }\r\n\r\n    \r\n    cloneNotes() {\r\n        return [...this.state.notes];\r\n    }\r\n\r\n   \r\n    async addNote() {\r\n\r\n        if (this.state.note.length <= 0)\r\n            return;\r\n\r\n        try {\r\n\r\n            const notes = this.cloneNotes();\r\n            notes.push(this.state.note);\r\n\r\n            await this.updateAsyncStorage(notes);\r\n\r\n            this.setState({\r\n                notes: notes,\r\n                note: ''\r\n            });\r\n\r\n        }\r\n\r\n        catch(e) {\r\n\r\n            alert(e);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    async removeNote(key) {\r\n\r\n        try {\r\n\r\n            const notes = this.cloneNotes();\r\n            notes.splice(key, 1);\r\n\r\n            await this.updateAsyncStorage(notes);\r\n            this.setState({ notes: notes });\r\n\r\n        }\r\n\r\n        catch(e) {\r\n\r\n            alert(e);\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    renderNotes() {\r\n\r\n        return this.state.notes.map((note, i) => {\r\n            return (\r\n                // <TouchableOpacity \r\n                //     key={i} style={styles.note} \r\n                //     onPress={ () => this.removeNote(i) }\r\n                // >\r\n                //     <Text style={styles.noteText}>{note}</Text>\r\n                // </TouchableOpacity>\r\n            \r\n\r\n            <View key={this.props.keyval} style={styles.note}>\r\n            <Text style={styles.noteText}>{this.val.date}</Text>\r\n            <Text style={styles.noteText}>{this.val.note}</Text>\r\n      \r\n            <TouchableOpacity onPress={this.removeNote(i)} style={styles.noteDelete}></TouchableOpacity>\r\n            <Text style={styles.noteDeleteText}>Delete</Text>\r\n            </View>\r\n           \r\n          );\r\n        });\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <View style={styles.container}>\r\n\r\n                <Header title={Config.title} />\r\n\r\n                <ScrollView style={styles.scrollView}>\r\n                    {this.renderNotes()}\r\n                </ScrollView>\r\n\r\n                <Footer\r\n                    onChangeText={ (note) => this.setState({note})  }\r\n                    inputValue={this.state.note}\r\n                    onNoteAdd={ () => this.addNote() }\r\n                />\r\n\r\n            </View>\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        position: 'relative'\r\n    },\r\n    scrollView: {\r\n        maxHeight: '82%',\r\n        marginBottom: 100,\r\n        backgroundColor: '#fff'\r\n    },\r\n    note: {\r\n        margin: 20,\r\n        padding: 20,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        borderWidth: 2,\r\n        backgroundColor: '#f9f9f9',\r\n        borderColor: '#ddd',\r\n        borderRadius: 10,\r\n    },\r\n    noteText: {\r\n        fontSize: 14,\r\n        padding: 20,\r\n    },\r\n    noteDelete: {\r\n        position: 'absolute',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        backgroundColor: '#2980b9',\r\n        padding: 10,\r\n        top: 10,\r\n        bottom: 10,\r\n        right: 10,\r\n      },\r\n      noteDeleteText:{\r\n        color:'black',\r\n      }\r\n});"]},"metadata":{},"sourceType":"module"}